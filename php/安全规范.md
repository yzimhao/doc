# 1.安全规范

### 1.1 存放规则
一般包含文件不需要直接暴露给用户，所以应该放在Web Server访问不到的目录，避免因为配置问题而泄露设置信息。

### 1.2 安全规则
##### 1.2.1 输入和输出
检查是否做了HTML代码的过滤，如果有人输入恶意的HTML、javascript代码，会导致窃取cookie, 产生恶意登录表单和破坏网站。

检查变量做数据库操作之前是否做了escape，如果一个要写入查询语句的字符串变量包含了某些特殊的字符，比如引号(’ ,”)或者分号(;) 可能造成执行了预期之外的操作。
建议采用的方法：使用mysql_escape_string() 或实现类似功能的函数。
##### 1.2.2 检查输入数值的合法性
异常的数值会造成问题。如果对输入的数值不做检查会造成不合法的或者错误的数据存入UDB、存入其它的数据库或者导致意料之外的程序操作发生。

举例：
1. 参数：如果程序以用户输入的参数值做为文件名，进行文件操作，恶意输入系统文件名会造成系统损毁。
2. cookie：核实对cookie的使用以及对用户数据的处理，不正确的cookie使用可能造成用户数据泄漏
3. 访问控制: 对内部使用的产品或者供合作方使用的产品，要考虑增加访问控制logs
确保用户的保密信息没有记在log中(例如：用户的密码)，确保对关键的用户操作保存了完整的用户访问记录
4. https：对敏感数据的传输要采用https


### 1.4 其它处理规则
##### 1.4.1 对输入参数值进行转义处理
页面接到参数需要SQL操作，这时候需要做转义，尤其需要注意”;”。
如：
```php
$a = ” Let’s Go ” ;
$sql = “Insert into tmp(col) values(’$a’)” ;
```
这种情况出现错误的不确定性。

##### 1.4.2 操作大HTML文本
很多时候需要存放一大段HTML文本供页面使用，象用户定制页头页脚等。
需要剔除脚本标记，避免执行恶意php代码。
转换”<"">“号，保证代码完整。
